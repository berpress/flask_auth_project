<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Flask App{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
    <div class="container">
        <a class="navbar-brand" href="/">Главная</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav me-auto">
                <li class="nav-item"><a class="nav-link" href="/register">Регистрация</a></li>
                <li class="nav-item"><a class="nav-link" href="/login">Вход</a></li>
                <li class="nav-item"><a class="nav-link" href="/users-page">Пользователи</a></li>
                <li class="nav-item"><a class="nav-link" href="/add-user">Добавить пользователя</a></li>
            </ul>
            <button id="logoutBtn" class="btn btn-outline-danger btn-sm" style="display: none;">Выйти</button>
        </div>
    </div>
</nav>

<div class="container">
    {% block content %}{% endblock %}
</div>

<script>
  // Показываем кнопку выхода, если есть токен
  if (localStorage.getItem('token')) {
    document.getElementById('logoutBtn').style.display = 'inline-block';
  }

  document.getElementById('logoutBtn')?.addEventListener('click', () => {
    localStorage.removeItem('token');
    window.location.href = '/login';
  });
</script>
</body>
</html>